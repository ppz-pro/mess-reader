state 现在写得很乱
应提前规划
分离：状态与状态逻辑

如果 A 状态依赖 B 状态，可以把 A 写在 B 文件里
如果 A 状态依赖 B 和 C，可能需要未 A 状态单独创建文件
